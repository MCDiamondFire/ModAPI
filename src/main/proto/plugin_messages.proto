syntax = "proto3";

option java_package = "com.mcdiamondfire.proto";
option java_multiple_files = true;


// Sent when the player joins the server.
message ServerInfo {
	// Represents a server type.
	enum DFServerType {
		MAIN = 0; // Main nodes.
		BETA = 1; // Node beta.
		DEV = 2; // Dev nodes.
		PUBLIC_TEST = 3; // Unused.
		PUBLIC_EVENT = 4; // Event node.
		LOCAL_DEV = 5; // Local dev servers.
		PRIVATE = 6; // Private nodes.
	}

	string protocol_version = 1; // The version of the protocol in semver format.
	string bungee_name = 2; // The identifier of the server.
	string patch_version = 3; // The patch version of the server.
	DFServerType server_type = 4; // The type of the server.
}


// Sent when the player joins the server.
message PlayerCurrency {
	// Represents an unclaimed ticket bundle.
	message TicketBundle {
		string event_name = 1; // The name of the event the bundle is from.
		string prize_name = 2; // The name of the prize the bundle is for.
		int32 ticket_amount = 3; // The amount of tickets in the bundle.
	}

	int32 tokens = 1; // The amount of tokens the player has.
	int32 tickets = 2; // The amount of tickets the player has.
	repeated TicketBundle ticket_bundles = 3; // The unclaimed ticket bundles the player has.
	int32 sparks = 4; // The amount of sparks the player has.
}

// Sent when the player joins the server.
message PlayerMode {
	enum Mode {
		PLAY = 0; // Play mode.
		BUILD = 1; // Build mode.
		DEV = 2; // Dev mode.
		SPY = 3; // Code-spectate mode.
		VANISH = 4; // Mod vanish mode.
		IDLE = 5; // Spawn mode.
		VERIFY = 6; // Bot check mode.
	}

	Mode mode = 1; // The mode the player is in.
}
